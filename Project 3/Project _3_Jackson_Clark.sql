--Group 2:
--Kaleb Liang
--Erika Howard
--Jackson Clark



DROP TABLE STUDENT cascade constraints;
DROP TABLE BORROWER cascade constraints;
DROP TABLE FACULTY cascade constraints;
DROP TABLE OTHER cascade constraints;
DROP TABLE LIBRARY_ITEM cascade constraints;
DROP TABLE PUBLISHER cascade constraints;
DROP TABLE MAGAZINE cascade constraints;
DROP TABLE BOOK cascade constraints;
DROP TABLE JOURNAL cascade constraints;
DROP TABLE CONFERENCE_PROCEEDING cascade constraints;
DROP TABLE RESERVEDBY cascade constraints;
DROP TABLE AUTHOR cascade constraints;
DROP TABLE WRITES cascade constraints;
DROP TABLE EDITOR cascade constraints;
DROP TABLE EDITS cascade constraints;




CREATE TABLE STUDENT (
      SID     NUMBER(2)
);



CREATE TABLE FACULTY (
      FID     NUMBER(2)
);



CREATE TABLE OTHER (
      OID     NUMBER(2)
);



CREATE TABLE BORROWER (
    BID         NUMBER(8)   PRIMARY KEY,
    ADDRESS     VARCHAR2(40),
    NAME        VARCHAR2(20),
    BORROWERDURATION    DATE
);




CREATE TABLE LIBRARY_ITEM (
    LID     NUMBER(6)   PRIMARY KEY,
    PURL    VARCHAR2(30)    UNIQUE,
    TITLE   VARCHAR2(20),
    BID     NUMBER(8)   UNIQUE,
    RETURNDATE  DATE,
    CHECKOUTDATE    DATE
);



CREATE TABLE PUBLISHER (
    URL     VARCHAR2(30)    PRIMARY KEY,
    NAME    VARCHAR2(20)
);



CREATE TABLE MAGAZINE (
    M_LID   NUMBER(6),
    M_TYPE    VARCHAR2(15),
    PUBLISHDATE DATE,
    PRIMARY KEY (M_LID),
    FOREIGN KEY (M_LID) references LIBRARY_ITEM(LID)
);



CREATE TABLE BOOK (
    B_LID       NUMBER(6),
    PRIMARY KEY (B_LID),
    FOREIGN KEY (B_LID) references LIBRARY_ITEM(LID)
);



CREATE TABLE JOURNAL (
    J_LID       NUMBER(6),
    J_VOLUME      NUMBER(10),
    J_NUMBER     NUMBER (10),
    PRIMARY KEY (J_LID),
    FOREIGN KEY (J_LID) references LIBRARY_ITEM(LID)
);



CREATE TABLE CONFERENCE_PROCEEDING (
    C_LID       NUMBER(6)   PRIMARY KEY,
    C_DATE      DATE,
    LOCATION    VARCHAR2(25),
    FOREIGN KEY (C_LID) references LIBRARY_ITEM(LID)
);



CREATE TABLE RESERVEDBY (
    R_BID       NUMBER(8)   PRIMARY KEY,
    R_LID       NUMBER(6)   UNIQUE,
    R_ORDER       NUMBER(20),
    FOREIGN KEY (R_BID) references BORROWER(BID),
    FOREIGN KEY (R_LID) references LIBRARY_ITEM(LID)
);



CREATE TABLE AUTHOR (
    AUTHORNAME      VARCHAR2(20) PRIMARY KEY
);



CREATE TABLE WRITES (
    W_LID       NUMBER(6)   PRIMARY KEY,
    W_AUTHORNAME    VARCHAR2(20)    UNIQUE,
    FOREIGN KEY (W_LID) references LIBRARY_ITEM(LID),
    FOREIGN KEY (W_AUTHORNAME) references AUTHOR(AUTHORNAME)
);



CREATE TABLE EDITOR (
    EDITORNAME      VARCHAR2(20)    PRIMARY KEY
);



CREATE TABLE EDITS (
    E_LID       NUMBER(6)   PRIMARY KEY,
    E_EDITORNAME    VARCHAR2(20)    UNIQUE,
    FOREIGN KEY (E_LID) references LIBRARY_ITEM(LID),
    FOREIGN KEY (E_EDITORNAME) references EDITOR(EDITORNAME)
);

INSERT INTO STUDENT (SID) VALUES(51473);
INSERT INTO STUDENT (SID) VALUES(91638);
INSERT INTO STUDENT (SID) VALUES(66123);
--New
INSERT INTO STUDENT (SID) VALUES(96677);

INSERT INTO FACULTY (FID) VALUES(75391);
INSERT INTO FACULTY (FID) VALUES(84490);
INSERT INTO FACULTY (FID) VALUES(22995);
--New
INSERT INTO FACULTY (FID) VALUES(95471);

INSERT INTO OTHER (OID) VALUES(13341);
INSERT INTO OTHER (OID) VALUES(44551);
INSERT INTO OTHER (OID) VALUES(33679);
--New
INSERT INTO OTHER (OID) VALUES(39065);

INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(13341, '1234 Fake Ave, Normal IL', 'John Doe', '14-OCT-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(51473, '5555 Maple Rd, Normal IL', 'Peter Griffin', '20-SEP-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(91638, '4201 Bake St, Normal IL', 'Jessica Gray', '29-AUG-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(75391, '1007 Walnut Rd, Normal IL', 'John Flannigan', '10-SEP-2022');
--New
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(84490, '9000 Golf St, Normal IL', 'Sarah Adams', '22-SEP-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(44551, '7733 House Ave, Normal IL', 'Carly Lewis', '5-OCT-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(66123, '7836 White Rd, Normal IL', 'Doug Walker', '9-OCT-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(22995, '3498 Washington Ave, Normal IL', 'Maggie Wright', '3-NOV-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(33679, '9031 River St, Normal IL', 'Walter White', '18-OCT-2022');
--Newest
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(96677, '5221 Dog St, Normal IL', 'Cloud Davis', '12-SEP-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(95471, '1559 Jefferson Rd, Normal IL', 'Squall Thompson', '25-OCT-2022');
INSERT INTO BORROWER (BID, ADDRESS, NAME, BORROWERDURATION) VALUES(39065, '2783 Flag Ave, Normal IL', 'Tidus Moore', '1-NOV-2022');

--John Doe's book because the BID is the same also return date is a month after checkout date and checkout date is the same as borrower date for that specific person
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(65890, 'https://www.mcgraw-hill.com/', 'Study in Humanities', 13341,'14-NOV-2022', '14-OCT-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(12345, 'https://www.houghton.com/', 'Data Structures And Algorithms', 51473,'20-OCT-2022', '20-SEP-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(48015, 'https://www.pearson.com/', 'The Culture of European Art', 91638,'29-SEP-2022', '29-AUG-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(23289, 'https://www.penguin.com/', '2nd International Engineer Conference', 75391,'10-OCT-2022', '10-SEP-2022');
--New
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(51492, 'https://www.scholastic.com/', 'Basics of Music Theory', 84490,'22-OCT-2022', '22-SEP-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(80153, 'https://www.wiley.com/', 'Connecting the City', 44551,'5-NOV-2022', '5-OCT-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(36820, 'https://www.cengage.com/', 'Calculus II: A Study', 66123,'9-NOV-2022', '9-OCT-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(62194, 'https://www.macmillan.com/', 'DESIGN Conference', 22995,'3-DEC-2022', '3-NOV-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(72150, 'https://www.nelson.com/', 'Complex Chemistry', 33679,'18-NOV-2022', '18-OCT-2022');
--Newest
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(90087, 'https://www.oxford.com/', 'Masters of Carpenting', 96677,'12-OCT-2022', '12-SEP-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(12745, 'https://www.sage.com/', 'Annual Geography', 95471,'25-NOV-2022', '25-OCT-2022');
INSERT INTO LIBRARY_ITEM (LID, PURL, TITLE, BID, RETURNDATE, CHECKOUTDATE) VALUES(69023, 'https://www.candlewick.com/', 'Fitness And Mental Health', 39065,'1-DEC-2022', '1-NOV-2022');

--Publishers are the same as in library item
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.mcgrw-hill.com/', 'McGraw-Hill Education');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.houghton.com/', 'Houghton Mifflin Harcourt');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.pearson.com/', 'Pearson Education');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.penguin.com/', 'Penguin Random House');
--New
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.scholastic.com/', 'Scholastic');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.wiley.com/', 'Wiley');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.cengage.com/', 'Cengage Learning');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.macmillan.com/', 'Macmillan Publishers');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.nelson.com/', 'Nelson Education');
--Newest
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.oxford.com/', 'Oxford University Press');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.sage.com/', 'SAGE Publishing');
INSERT INTO PUBLISHER (URL, NAME) VALUES('https://www.candlewick.com/', 'Candlewick Press');

INSERT INTO MAGAZINE (M_LID, M_TYPE, PUBLISHDATE) VALUES(48015, 'Monthly', '15-JUL-2022');
--New
INSERT INTO MAGAZINE (M_LID, M_TYPE, PUBLISHDATE) VALUES(51492, 'Weekly', '20-SEP-2022');
INSERT INTO MAGAZINE (M_LID, M_TYPE, PUBLISHDATE) VALUES(12745, 'Annual', '10-JAN-2020');

INSERT INTO BOOK (B_LID) VALUES(12345);
--New
INSERT INTO BOOK (B_LID) VALUES(72150);
INSERT INTO BOOK (B_LID) VALUES(90087);

INSERT INTO JOURNAL (J_LID, J_VOLUME, J_NUMBER) VALUES(65890, 4, 1);
--New
INSERT INTO JOURNAL (J_LID, J_VOLUME, J_NUMBER) VALUES(36820, 3, 10);
INSERT INTO JOURNAL (J_LID, J_VOLUME, J_NUMBER) VALUES(69023, 1, 2);

INSERT INTO CONFERENCE_PROCEEDING (C_LID, C_DATE, LOCATION) VALUES(23289, '13-JAN-2019', 'Washington, DC');
--New
INSERT INTO CONFERENCE_PROCEEDING (C_LID, C_DATE, LOCATION) VALUES(80153, '16-MAY-2018', 'Chicago, IL');
INSERT INTO CONFERENCE_PROCEEDING (C_LID, C_DATE, LOCATION) VALUES(62194, '20-MAR-2022', 'Detroit, MI');

INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(13341, 65890, 1122334455);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(51473, 12345, 1020304050);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(91638, 48015, 9988776655);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(75391, 23289, 1324354657);
--New
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(84490, 51492, 2233445566);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(44551, 80153, 3344556677);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(66123, 36820, 4455667788);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(22995, 62194, 5566778899);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(33679, 72150, 8877665544);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(96677, 90087, 7766554433);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(95471, 12745, 6655443322);
INSERT INTO RESERVEDBY (R_BID, R_LID, R_ORDER) VALUES(39065, 69023, 5544332211);

INSERT INTO AUTHOR (AUTHORNAME) VALUES('Chuck Hansen');
INSERT INTO AUTHOR (AUTHORNAME) VALUES('Lightning Campbell');
INSERT INTO AUTHOR (AUTHORNAME) VALUES('Noctis Evans');

INSERT INTO WRITES (W_LID, W_AUTHORNAME) VALUES(12345, 'Chuck Hansen');
INSERT INTO WRITES (W_LID, W_AUTHORNAME) VALUES(72150, 'Lightning Campbell');
INSERT INTO WRITES (W_LID, W_AUTHORNAME) VALUES(90087, 'Noctis Evans');

INSERT INTO EDITOR (EDITORNAME) VALUES('Daren Leone');
INSERT INTO EDITOR (EDITORNAME) VALUES('Cid Mitchell');
INSERT INTO EDITOR (EDITORNAME) VALUES('Tifa Turner');

INSERT INTO EDITS (E_LID, E_EDITORNAME) VALUES(23289, 'Daren Leone');
INSERT INTO EDITS (E_LID, E_EDITORNAME) VALUES(80153, 'Cid Mitchell');
INSERT INTO EDITS (E_LID, E_EDITORNAME) VALUES(62194, 'Tifa Turner');

SELECT *
FROM STUDENT;

SELECT *
FROM BORROWER;

SELECT *
FROM FACULTY;

SELECT *
FROM OTHER;

SELECT *
FROM LIBRARY_ITEM;

SELECT *
FROM PUBLISHER;

SELECT *
FROM MAGAZINE;

SELECT *
FROM BOOK;

SELECT *
FROM JOURNAL;

SELECT *
FROM CONFERENCE_PROCEEDING;

SELECT *
FROM RESERVEDBY;

SELECT *
FROM AUTHOR;

SELECT *
FROM WRITES;

SELECT *
FROM EDITOR;

SELECT *
FROM EDITS;

SELECT BID, ADDRESS, NAME, BORROWERDURATION
FROM BORROWER, LIBRARY_ITEM
WHERE BORROWER.BID = LIBRARY_ITEM.BID;